<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Le Mystère de Maillol - Accueil</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: linear-gradient(to bottom, #fdf2f8, #fce7f3);
      text-align: center;
      padding: 40px 20px;
      color: #701a75;
    }
    .container {
      background: white;
      max-width: 750px;
      margin: auto;
      padding: 30px;
      border-radius: 20px;
      box-shadow: 0 0 30px rgba(0,0,0,0.08);
    }
    h1 {
      font-size: 2.2em;
      color: #a21caf;
    }
    label, select, input {
      display: block;
      margin: 15px auto;
      font-size: 1.1em;
    }
    button {
      padding: 14px 30px;
      font-size: 1.1em;
      border: none;
      border-radius: 10px;
      background: #9333ea;
      color: white;
      cursor: pointer;
    }
    button:hover {
      background: #7e22ce;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Le Mystère de Maillol</h1>
    <p>Sélectionne ton mode de jeu :</p>
    <select id="mode">
      <option value="solo">Solo</option>
      <option value="famille">Famille</option>
      <option value="groupe">Groupe</option>
      <option value="structure">Groupe Spécial (jeunes, écoles...)</option>
    </select>

    <label for="participants">Noms des participants (séparés par des virgules) :</label>
    <input type="text" id="participants" placeholder="Ex : Julie, Karim, Emma">

    <label for="code">Code d'accès :</label>
    <input type="text" id="code" placeholder="Entrez le code fourni">

    <button onclick="valider()">Démarrer l’aventure</button>
  </div>

  <script>
    const codesValidite = {
      "fafa972": 3 * 60 * 60 * 1000 // 3h en millisecondes
    };

    function valider() {
      const code = document.getElementById("code").value;
      const participants = document.getElementById("participants").value.trim();
      const mode = document.getElementById("mode").value;

      if (!participants) return alert("Merci d'indiquer au moins un participant.");
      if (!code || !(code in codesValidite)) return alert("Code invalide ou expiré.");

      const expiration = Date.now() + codesValidite[code];
      localStorage.setItem("participants", participants);
      localStorage.setItem("mode", mode);
      localStorage.setItem("code", code);
      localStorage.setItem("expiration", expiration);
      location.href = "enigme1.html";
    }
  </script>
</body>
</html>
